# Deutschland-Relief im Stil der Schweiz-Karte (weiß/hellgrau Relief + blaues Wasser)
global:
  bg: [1.0, 1.0, 1.0, 1.0]              # Weißer Hintergrund
  water_fill: [0.38, 0.69, 1.0, 1.0]    # #61B0FF
  water_line: [0.41, 0.71, 1.0, 1.0]    # #69B6FF

sources:
  # Besser sichtbar: fertiges Hillshade von MapTiler (statt terrain-rgb selbst zu schattieren)
  hillshade:
    type: Raster
    url: https://api.maptiler.com/tiles/hillshade/{z}/{x}/{y}.png?key=582YgxGFbrCVlE8xVsbq
    tile_size: 512
    max_zoom: 15

  # OpenMapTiles v3 – enthält Layer 'water' (Flächen) & 'waterway' (Linien)
  vect:
    type: MVT
    url: https://api.maptiler.com/tiles/v3/{z}/{x}/{y}.mvt?key=582YgxGFbrCVlE8xVsbq
    tile_size: 512
    max_zoom: 14

styles:
  # Dezentes, aber kontrastreicheres Hillshade (anpassbar)
  hillshade_style:
    base: raster
    shaders:
      blocks:
        color: |
          // Original ist graustufig; wir heben Kontrast leicht an und halten es hell
          float g = color.r;
          // g≈0 = dunkel (Schatten), g≈1 = hell (Licht). Wir klemmen in einen hellen Bereich:
          g = mix(0.92, 0.62, g);   // 0.92 = fast weiß, 0.62 = hellgrau → mehr Relief sichtbar
          color = vec4(vec3(g), 1.0);

  water-poly:
    base: polygons
  water-line:
    base: lines

scene:
  background:
    color: global.bg

layers:
  # 1) Relief
  relief:
    data: { source: hillshade }
    draw:
      hillshade_style:
        order: 0
        raster: true

  # 2) Wasserflächen (Seen/Meere)
  water_areas:
    data: { source: vect, layer: water }
    draw:
      water-poly:
        order: 10
        color: global.water_fill

  # 3) Flüsse/Kanäle (waterway)
  waterways:
    data: { source: vect, layer: waterway }
    filter: { $zoom: { min: 5 } }
    draw:
      water-line:
        order: 11
        color: global.water_line
        width: [[5, 0.4px], [8, 0.7px], [12, 1.3px], [16, 2.0px]]
